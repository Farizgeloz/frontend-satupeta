"use strict";(self.webpackChunkopendata_backend_prabulinggih=self.webpackChunkopendata_backend_prabulinggih||[]).push([[823,2633,5812],{24921:(t,e,n)=>{n.d(e,{GP:()=>f,LI:()=>c,lc:()=>u,u5:()=>s});n(11265);var o=n(50265);const i=/^-?(\d+)(\.(\d+))?$/i;function l(t,e){return t-e}function r(t,e){let n,o;return n=Number(t.toFixed(e)),n<t?o=n+1/10**e:(o=n,n-=1/10**e),n=Number(n.toFixed(e)),o=Number(o.toFixed(e)),[n,o]}function a(t,e,n,o,i){const l=s(t,e,n,o),r=null==l.previous||l.previous<=i,a=null==l.next||l.next<=i;return r&&a||l.previous+l.next<=2*i}function u(t){const e=String(t),n=e.match(i);if(null!==n&&void 0!==n&&n[1])return{integer:n[1].split("").length,fractional:n[3]?n[3].split("").length:0};if(e.toLowerCase().includes("e")){const t=e.split("e"),n=t[0],o=t[1];if(n&&o){const t=Number(n);let e=Number(o);const i=e>0;i||(e=Math.abs(e));const l=u(t);return i?(l.integer+=e,e>l.fractional?l.fractional=0:l.fractional-=e):(l.fractional+=e,e>l.integer?l.integer=1:l.integer-=e),l}}return{integer:0,fractional:0}}function s(t,e,n,o){const i={previous:null,next:null};if(null!=n){const o=t-n,l=e-n-o;i.previous=Math.floor(Math.abs(100*l/o))}if(null!=o){const n=o-t,l=o-e-n;i.next=Math.floor(Math.abs(100*l/n))}return i}function c(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t.slice(),{tolerance:o=2,strictBounds:i=!1,indexes:s=n.map((t,e)=>e)}=e;s.sort(l);for(let l=0;l<s.length;l++){const t=s[l],e=n[t],c=0===t?null:n[t-1],d=t===n.length-1?null:n[t+1],f=u(e).fractional;if(f){let u,s=0,m=!1;for(;s<=f&&!m;){const t=r(e,s);u=i&&0===l?t[1]:t[0],m=a(e,u,c,d,o),s++}m&&(n[t]=u)}}return n}const d={maximumFractionDigits:20};function f(t){return(0,o.ZV)(t,d)}},35812:(t,e,n)=>{n.d(e,{getRampStops:()=>u});var o=n(69539),i=n(18690),l=n(60823);const r=new o.A([64,64,64]);function a(t,e){const n=[],o=t.length-1;return 5===t.length?n.push(0,2,4):n.push(0,o),t.map((t,i)=>n.includes(i)?(0,l.Dd)(t,i,o,e):null)}async function u(t,e,o){let l=!1,r=[],u=[];if(t.stops){const e=t.stops;r=e.map(t=>t.value),l=e.some(t=>!!t.label),l&&(u=e.map(t=>t.label))}const c=r[0],d=r[r.length-1];if(null==c&&null==d)return null;const f=l?null:a(r,o);return(await Promise.all(r.map(async(o,i)=>{var r;const a="opacity"===t.type?await s(o,t,e):(await Promise.resolve().then(n.bind(n,15492))).getColor(t,o),c=l?u[i]:null!==(r=null===f||void 0===f?void 0:f[i])&&void 0!==r?r:"";return null==a?null:{value:o,color:a,label:c}}))).filter(i.Ru).reverse()}async function s(t,e,i){const l=new o.A(null!==i&&void 0!==i?i:r),a=(await Promise.resolve().then(n.bind(n,15492))).getOpacity(e,t);return null!=a&&(l.a=a),l}},42633:(t,e,n)=>{n.d(e,{EG:()=>p,Ll:()=>b,R3:()=>w,UH:()=>s,aM:()=>h,fs:()=>m,i0:()=>T});var o=n(37055),i=n(65256),l=n(53430),r=(n(86300),n(76386)),a=n(36693),u=n(67478);const s=",",c={years:365,months:30,days:1,hours:1/24,minutes:1/1440,seconds:1/86400,milliseconds:1/864e5},d=new Set(["integer","small-integer"]);let f=null;function m(t){return(0,l.vE)(t)||(0,l.zD)(t)||(0,l.Ah)(t)}async function p(t){const{field:e,field2:n,field3:o,normalizationField:i,valueExpression:l}=t;let a=[];if(l){if(!f){const{arcadeUtils:t}=await(0,r.l)();f=t}a=f.extractFieldNames(l)}return e&&a.push(e),n&&a.push(n),o&&a.push(o),i&&a.push(i),a}function v(t){return String(t).padStart(2,"0")}function g(t,e,n){let o;return"date"===e||"number"===e?("number"===e&&(t=new Date(t)),o="TIMESTAMP'".concat(n?t.getFullYear():t.getUTCFullYear(),"-").concat(v((n?t.getMonth():t.getUTCMonth())+1),"-").concat(v(n?t.getDate():t.getUTCDate())," ").concat(v(n?t.getHours():t.getUTCHours()),":").concat(v(n?t.getMinutes():t.getUTCMinutes()),":").concat(v(n?t.getSeconds():t.getUTCSeconds()),"'")):o=t,o}function h(t,e,n,o){const{hasQueryEngine:i}=t,l="(".concat(g(n,y(t,n),i)," - ").concat(g(e,y(t,e),i),")");let r=c[o],a="/";return r<1&&(r=1/r,a="*"),{sqlExpression:1===r?l:"(".concat(l," ").concat(a," ").concat(r,")"),sqlWhere:null}}function y(t,e){if(e instanceof Date)return"date";if("number"==typeof e)return"number";if("string"==typeof e){const n=t.getField(e);if("<now>"===e.toLowerCase())return;if((0,l.vE)(n))return"field"}}function w(t,e){const n=e&&t.getField(e);return!!n&&d.has(n.type)}function b(t){return"cast(".concat(t," as float)")}function T(t,e){const{format:n,timeZoneOptions:l,fieldType:r}=null!==e&&void 0!==e?e:{};let s,c;if(l&&({timeZone:s,timeZoneName:c}=(0,u.hv)(l.layerTimeZone,l.datesInUnknownTimezone,l.viewTimeZone,(0,i.J2)(n||"short-date-short-time"),r)),"string"==typeof t&&isNaN(Date.parse("time-only"===r?"1970-01-01T".concat(t,"Z"):t)))return t;switch(r){case"date-only":{const e=(0,i.J2)(n||"short-date");return"string"==typeof t?(0,i.iS)(t,(0,o.A)({},e)):(0,i.Yq)(t,(0,o.A)((0,o.A)({},e),{},{timeZone:a.n$}))}case"time-only":{const e=(0,i.J2)(n||"short-time");return"string"==typeof t?(0,i.F8)(t,e):(0,i.Yq)(t,(0,o.A)((0,o.A)({},e),{},{timeZone:a.n$}))}case"timestamp-offset":{if(!s&&"string"==typeof t&&new Date(t).toISOString()!==t)return t;const e=n||l?(0,i.J2)(n||"short-date-short-time"):void 0,r=e?(0,o.A)((0,o.A)({},e),{},{timeZone:s,timeZoneName:c}):void 0;return"string"==typeof t?(0,i.Ey)(t,r):(0,i.Yq)(t,r)}default:{const e=n||l?(0,i.J2)(n||"short-date-short-time"):void 0;return(0,i.Yq)("string"==typeof t?new Date(t):t,e?(0,o.A)((0,o.A)({},e),{},{timeZone:s,timeZoneName:c}):void 0)}}}},60823:(t,e,n)=>{n.d(e,{Dd:()=>c,Zo:()=>d,getDateFormatOptions:()=>f,iz:()=>m});var o=n(18288),i=n(53430),l=n(24921),r=n(42633),a=n(7246);const u="<",s=">";function c(t,e,n,o){let i="";return 0===e?i="".concat(u," "):e===n&&(i="".concat(s," ")),i+(o?(0,r.i0)(t,o):(0,l.GP)(t))}async function d(t,e){const o=t.trailCap,i=t.trailWidth||1,l=e||await async function(t){var e;if(!("visualVariables"in t)||!t.visualVariables)return null;const o=t.visualVariables.find(t=>"color"===t.type);if(!o)return null;let i=null,l=null;if(o.stops){if(1===o.stops.length)return o.stops[0].color;i=o.stops[0].value,l=o.stops[o.stops.length-1].value}const r=null!=i&&null!=l?i+(l-i)/2:0,{getColor:a}=await Promise.resolve().then(n.bind(n,15492));return null!==(e=a(o,r))&&void 0!==e?e:null}(t)||t.color;return new a.A({cap:o,color:l,width:i})}function f(t,e,n){const l=function(t,e){var n,o;if(!e.field)return null;if("featureReduction"in t)switch(null===(n=t.featureReduction)||void 0===n?void 0:n.type){case"cluster":case"binning":{const n=t.featureReduction.fields.find(t=>{let{name:n}=t;return n.toLowerCase()===e.field.toLowerCase()});return n&&"getField"in t?t.getField(n.onStatisticField):null}}return"getField"in t?null===(o=t.getField)||void 0===o?void 0:o.call(t,e.field):null}(t,e);if(!l||!(0,r.fs)(l)&&!(0,i.OH)(l))return null;let a=function(t,e){var n,o;const i="popupTemplate"in t?null===(n=t.popupTemplate)||void 0===n?void 0:n.fieldInfos:null;if(null!==i&&void 0!==i&&i.length&&e)return null===(o=i.find(t=>{var n;return(null===(n=t.fieldName)||void 0===n?void 0:n.toLowerCase())===e.toLowerCase()}))||void 0===o||null===(o=o.format)||void 0===o?void 0:o.dateFormat}(t,l.name);if(!a&&"date"===l.type){var u,s,c,d,f,m;let t=0,n=0;e.stops?(t=null!==(u=null===(s=e.stops)||void 0===s||null===(s=s.at(0))||void 0===s?void 0:s.value)&&void 0!==u?u:t,n=null!==(c=null===(d=e.stops)||void 0===d||null===(d=d.at(-1))||void 0===d?void 0:d.value)&&void 0!==c?c:n):"minDataValue"in e&&"maxDataValue"in e&&(t=null!==(f=e.minDataValue)&&void 0!==f?f:t,n=null!==(m=e.maxDataValue)&&void 0!==m?m:n),a=n-t>2*o.vf.days?"short-date":"short-date-short-time"}return{fieldType:l.type,format:a,timeZoneOptions:{layerTimeZone:"preferredTimeZone"in t?t.preferredTimeZone:null,viewTimeZone:n,datesInUnknownTimezone:"datesInUnknownTimezone"in t&&t.datesInUnknownTimezone}}}function m(t,e){var n;if("authoringInfo"in t)return null===(n=t.authoringInfo)||void 0===n||null===(n=n.visualVariables)||void 0===n?void 0:n.find(t=>{let{theme:n}=t;return n===e})}}}]);
//# sourceMappingURL=5812.ed90a370.chunk.js.map