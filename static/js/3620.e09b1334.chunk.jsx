"use strict";(self.webpackChunkopendata_backend_prabulinggih=self.webpackChunkopendata_backend_prabulinggih||[]).push([[3620,6840],{6840:(e,t,i)=>{i.r(t),i.d(t,{CIMSymbolRasterizer:()=>u});var n=i(19902),r=i(30050),s=i(94110),l=i(401),o=i(48988),a=i(83367),h=i(97763);const c=96/72;class u{constructor(e){this._spatialReference=e,this._imageDataCanvas=null,this._cimResourceManager=new r.A}get _canvas(){return this._imageDataCanvas||(this._imageDataCanvas=document.createElement("canvas")),this._imageDataCanvas}get resourceManager(){return this._cimResourceManager}async rasterizeCIMSymbolAsync(e,t,i,r,s,c,u,f,g,p){if(!e)return null;const{data:m}=e;if(!m||"CIMSymbolReference"!==m.type||!m.symbol)return null;const{symbol:y}=m;c||(c=(0,h.n5)(y));const v=await o.OverrideHelper.resolveSymbolOverrides(m,t,this._spatialReference,s,c,u,f),w=this._cimResourceManager,M=[];l.wp.fetchResources(v,w,M),l.wp.fetchFonts(v,w,M),M.length>0&&await Promise.all(M);const{width:b,height:x}=i;let C=d(c,b,x,r,p);const I=l.wp.getEnvelope(v,C,w);if(!I)return null;I.x===1/0&&(I.x=b+2),I.y===1/0&&(I.y=-x/2),I.width===-1/0&&(I.width=b),I.height===-1/0&&(I.height=x);let P=1,S=0,O=0;switch(y.type){case"CIMPointSymbol":case"CIMTextSymbol":{let e=1;I.width>b&&(e=b/I.width);let t=1;I.height>x&&(t=x/I.height),"preview"===r&&(I.width<b&&(e=b/I.width),I.height<x&&(t=x/I.height)),P=Math.min(e,t),S=I.x+I.width/2,O=I.y+I.height/2}break;case"CIMLineSymbol":if(p){O=I.y+I.height/2,S=I.x+I.width/2;const e=I.width-b,t=I.height-x;C={paths:(0,a.hs)(C.paths,{xmin:-1*I.width/2+e,xmax:I.width/2-e,ymin:-1*I.height/2+t,ymax:I.height/2-t,width:I.width-2*e,height:I.height-2*t})}}else{(g||I.height>x)&&(P=x/I.height),O=I.y+I.height/2;const e=I.x*P+b/2,t=(I.x+I.width)*P+b/2,i=(0,n.Rg)(C)?C.paths:(0,n.Bi)(C)?C.rings:null;if(null===i)throw new Error("Bad geometry, can't rasterise symbol!");i[0][0][0]-=e/P,i[0][2][0]-=(t-b)/P}break;case"CIMPolygonSymbol":if(p){O=I.y+I.height/2,S=I.x+I.width/2;const e=I.width-b,t=I.height-x;C={paths:(0,a.hs)(C.rings,{xmin:-1*I.width/2+e,xmax:I.width/2-e,ymin:-1*I.height/2+t,ymax:I.height/2-t,width:I.width-2*e,height:I.height-2*t})}}else{S=I.x+I.width/2,O=I.y+I.height/2;const e=I.x*P+b/2,t=(I.x+I.width)*P+b/2,i=I.y*P+x/2,n=(I.y+I.height)*P+x/2,{rings:r}=C;e<0&&(r[0][0][0]-=e,r[0][3][0]-=e,r[0][4][0]-=e),i<0&&(r[0][0][1]+=i,r[0][1][1]+=i,r[0][4][1]+=i),t>b&&(r[0][1][0]-=t-b,r[0][2][0]-=t-b),n>x&&(r[0][2][1]+=n-x,r[0][3][1]+=n-x)}}const k={type:"cim",data:{type:"CIMSymbolReference",symbol:v}};return this.rasterize(k,b,x,S,O,P,c,1,C)}rasterize(e,t,i,n,r,l,o){let a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,f=arguments.length>9&&void 0!==arguments[9]?arguments[9]:window.devicePixelRatio||1;const{data:g}=e;if(!g||"CIMSymbolReference"!==g.type||!g.symbol)return null;const{symbol:p}=g,m=this._canvas,y=f*c;m.width=t*y,m.height=i*y,o||(o=(0,h.n5)(p)),u||(u=d(o,t,i,"legend")),m.width+=2*a,m.height+=2*a;const v=m.getContext("2d",{willReadFrequently:!0}),w=s.IT.createIdentity();return w.translate(-n,-r),w.scale(l*y,-l*y),w.translate(t*y/2+a,i*y/2+a),v.clearRect(0,0,m.width,m.height),new s.Rj(v,this._cimResourceManager,w,!0).drawSymbol(p,u),v.getImageData(0,0,m.width,m.height)}}function d(e,t,i,n,r){const s=-t/2+1,l=t/2-1,o=i/2-1,h=-i/2+1;if(r&&("esriGeometryPolygon"===e||"esriGeometryPolyline"===e)){const n=function(e,t,i,n){return"esriGeometryPolygon"===t?{rings:(0,a.Tl)((0,a.hs)(e.rings,{xmin:0,ymin:0,width:i,height:n}),-1*i/2,-1*n/2)}:"esriGeometryPolyline"===t?{paths:(0,a.Tl)((0,a.hs)(e.paths,{xmin:0,ymin:0,width:i,height:n}),-1*i/2,-1*n/2)}:null}(r,e,t,i);if(n)return n}switch(e){case"esriGeometryPoint":return{x:0,y:0};case"esriGeometryPolyline":return{paths:[[[s,0],[0,0],[l,0]]]};default:return"legend"===n?{rings:[[[s,o],[l,0],[l,h],[s,h],[s,o]]]}:{rings:[[[s,o],[l,o],[l,h],[s,h],[s,o]]]}}}},19358:(e,t,i)=>{i.d(t,{A:()=>r});var n=i(59422);class r{constructor(e,t,i,r){this.transformedX=0,this.transformedY=0,this.center=(0,n.fA)(e,t),this.centerT=(0,n.vt)(),this.halfWidth=i/2,this.halfHeight=r/2,this.width=i,this.height=r}get x(){return this.center[0]}get y(){return this.center[1]}get blX(){return this.center[0]+this.halfWidth}get blY(){return this.center[1]+this.halfHeight}get trX(){return this.center[0]-this.halfWidth}get trY(){return this.center[1]-this.halfHeight}get xmin(){return this.x-this.halfWidth}get xmax(){return this.x+this.halfWidth}get ymin(){return this.y-this.halfHeight}get ymax(){return this.y+this.halfHeight}set x(e){this.center[0]=e}set y(e){this.center[1]=e}clone(){return new r(this.x,this.y,this.width,this.height)}serialize(e){return e.writeF32(this.center[0]),e.writeF32(this.center[1]),e.push(this.width),e.push(this.height),e}findCollisionDelta(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;const i=Math.abs(e.centerT[0]-this.centerT[0]),n=Math.abs(e.centerT[1]-this.centerT[1]),r=(e.halfWidth+this.halfWidth+t)/i,s=(e.halfHeight+this.halfHeight+t)/n,l=Math.min(r,s);return Math.log2(l)}extend(e){const t=Math.min(this.xmin,e.xmin),i=Math.min(this.ymin,e.ymin),n=Math.max(this.xmax,e.xmax)-t,r=Math.max(this.ymax,e.ymax)-i,s=t+n/2,l=i+r/2;this.width=n,this.height=r,this.halfWidth=n/2,this.halfHeight=r/2,this.x=s,this.y=l}static deserialize(e){const t=e.readF32(),i=e.readF32(),n=e.readInt32(),s=e.readInt32();return new r(t,i,n,s)}}},28675:(e,t,i)=>{i.d(t,{D:()=>m,previewCIMSymbol:()=>y});var n=i(76931),r=i(401),s=i(6840),l=i(48988),o=i(97763),a=i(65709),h=i(26291);const c=new s.CIMSymbolRasterizer(null),u=(0,n.PN)(a.CB.size),d=(0,n.PN)(a.CB.maxSize),f=(0,n.PN)(a.CB.lineWidth),g=1;async function p(e,t,i){const n=null===t||void 0===t?void 0:t.size;let r=null!=n&&"object"==typeof n&&"width"in n?n.width:n,s=null!=n&&"object"==typeof n&&"height"in n?n.height:n;if(!r||!s)if("esriGeometryPolygon"===i)r=s=t.maxSize?Math.min(t.maxSize,u):u;else{const n=await m(e,t,i);n&&(r=n.width,s=n.height),"esriGeometryPolyline"===i&&(r=t.maxSize?Math.min(t.maxSize,f):f),r=null!=r&&isFinite(r)?Math.min(r,d):u,s=null!=s&&isFinite(s)?Math.max(Math.min(s,d),g):u}return"legend"===t.style&&"esriGeometryPolyline"===i&&(r=f),{width:r,height:s}}async function m(e){var t;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const s=i.cimOptions||i;null!==n&&void 0!==n||(n=s.geometryType||(0,o.n5)(null===(t=e)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.symbol));const{feature:a,fieldMap:h,viewParams:u}=s,d=await l.OverrideHelper.resolveSymbolOverrides(e.data,a,null,h,n,null,u);if(!d)return null;(e=e.clone()).data={type:"CIMSymbolReference",symbol:d},e.data.primitiveOverrides=void 0;const f=[];return r.wp.fetchResources(d,c.resourceManager,f),r.wp.fetchFonts(d,c.resourceManager,f),f.length>0&&await Promise.all(f),r.wp.getEnvelope(d,null,c.resourceManager)}async function y(e){var t,i,r,s;let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{node:a,opacity:u,symbolConfig:d}=l,f=null!=d&&"object"==typeof d&&"isSquareFill"in d&&d.isSquareFill,g=l.cimOptions||l,m=g.geometryType||(0,o.n5)(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.symbol),y=await p(e,l,m),{feature:v,fieldMap:w}=g,M=null!==l&&void 0!==l&&l.geometry||f||"esriGeometryPolygon"!==m?"preview":"legend";let b=y;const x=y;if(null!==l&&void 0!==l&&l.geometry&&("esriGeometryPolygon"===m||"esriGeometryPolyline"===m)){const e=200;if((0,n.Lz)(y.width)<e||(0,n.Lz)(y.height)<e){const t=y.width>y.height?(0,n.PN)(e)*y.height/y.width:(0,n.PN)(e);b={width:y.width>y.height?(0,n.PN)(e):(0,n.PN)(e)*y.width/y.height,height:t}}}const C=await c.rasterizeCIMSymbolAsync(e,v,b,M,w,m,null,g.viewParams,g.allowScalingUp,null===l||void 0===l||null===(i=l.geometry)||void 0===i?void 0:i.toJSON());if(!C)return null;const{width:I,height:P}=C,S=document.createElement("canvas");S.width=I,S.height=P,S.getContext("2d").putImageData(C,0,0);const O=(0,n.Lz)(x.width),k=(0,n.Lz)(x.height),R=new Image(O,k);R.src=S.toDataURL(),R.ariaLabel=null!==(r=l.ariaLabel)&&void 0!==r?r:null,R.alt=null!==(s=l.ariaLabel)&&void 0!==s?s:"",null!=u&&(R.style.opacity="".concat(u));let _=R;if(null!=l.effectView){const e={shape:{type:"image",x:0,y:0,width:O,height:k,src:R.src},fill:null,stroke:null,offset:[0,0]};_=(0,h.fz)([[e]],[O,k],l)}return a&&_&&a.appendChild(_),_}},30050:(e,t,i)=>{i.d(t,{A:()=>s});var n=i(85504),r=i(16770);class s{constructor(){this._resourceMap=new Map,this._inFlightResourceMap=new Map,this.geometryEngine=null,this.geometryEnginePromise=null}destroy(){this._inFlightResourceMap.clear(),this._resourceMap.clear()}getResource(e){var t;return null!==(t=this._resourceMap.get(e))&&void 0!==t?t:null}async fetchResource(e,t){const i=this._resourceMap.get(e);if(i)return{width:i.width,height:i.height};let n=this._inFlightResourceMap.get(e);return n?n.then(e=>({width:e.width,height:e.height})):(n=(0,r.M5)(e,t),this._inFlightResourceMap.set(e,n),n.then(t=>(this._inFlightResourceMap.delete(e),this._resourceMap.set(e,t),{width:t.width,height:t.height}),()=>({width:0,height:0})))}deleteResource(e){this._inFlightResourceMap.delete(e),this._resourceMap.delete(e)}loadFont(e){return(0,n.Al)(e)}}},48988:(e,t,i)=>{i.d(t,{OverrideHelper:()=>u});var n=i(69539),r=i(59784),s=i(53084),l=i(1900),o=i(81456),a=i(97763),h=i(52629);const c=e=>{if(!e)return[0,0,0,0];const{r:t,g:i,b:n,a:r}=e;return[t,i,n,255*r]};class u{static findApplicableOverrides(e,t,i){if(e&&t){if(e.primitiveName){let n=!1;for(const t of i)if(t.primitiveName===e.primitiveName){n=!0;break}if(!n)for(const r of t)r.primitiveName===e.primitiveName&&i.push(r)}switch(e.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":if(e.effects)for(const n of e.effects)u.findApplicableOverrides(n,t,i);if(e.symbolLayers)for(const n of e.symbolLayers)u.findApplicableOverrides(n,t,i);break;case"CIMTextSymbol":break;case"CIMSolidStroke":case"CIMPictureStroke":case"CIMGradientStroke":case"CIMSolidFill":case"CIMPictureFill":case"CIMHatchFill":case"CIMGradientFill":case"CIMVectorMarker":case"CIMCharacterMarker":case"CIMPictureMarker":if(e.effects)for(const n of e.effects)u.findApplicableOverrides(n,t,i);if(e.markerPlacement&&u.findApplicableOverrides(e.markerPlacement,t,i),"CIMVectorMarker"===e.type){if(e.markerGraphics)for(const n of e.markerGraphics)u.findApplicableOverrides(n,t,i),u.findApplicableOverrides(n.symbol,t,i)}else"CIMCharacterMarker"===e.type?u.findApplicableOverrides(e.symbol,t,i):"CIMHatchFill"===e.type?u.findApplicableOverrides(e.lineSymbol,t,i):"CIMPictureMarker"===e.type&&u.findApplicableOverrides(e.animatedSymbolProperties,t,i)}}}static findEffectOverrides(e,t){if(!e)return null;if("CIMGeometricEffectDashes"===e.type&&(0,a.FH)(e),!t||!e.primitiveName)return{type:"cim-effect-param",effect:e,overrides:[]};const i=(0,a.rB)(e),n=e.primitiveName,r=[];for(const s of t)s.primitiveName===n&&r.push((0,a.rB)(s));return{type:"cim-effect-param",effect:i,overrides:(0,a.pk)(r)}}static async resolveSymbolOverrides(e,t,i,n,r,o,h){if(null===e||void 0===e||!e.symbol)return null;let{symbol:c,primitiveOverrides:d}=e;const f=!!d;if(!f&&!n)return c;c=(0,s.o8)(c),d=(0,s.o8)(d);let g=!0;if(t||(t={attributes:{}},g=!1),f){if(g||(d=d.filter(e=>{var t;return!(null!==(t=e.valueExpressionInfo)&&void 0!==t&&t.expression.includes("$feature"))})),h||(d=d.filter(e=>{var t;return!(null!==(t=e.valueExpressionInfo)&&void 0!==t&&t.expression.includes("$view"))})),d.length>0){const e=(0,a.O2)(t.attributes),n={spatialReference:i,fields:e,geometryType:r};await u.createRenderExpressions(d,n),u.evaluateOverrides(d,t,null!==r&&void 0!==r?r:"esriGeometryPoint",o,h,new l.A(e))}u.applyOverrides(c,d)}return n&&u.applyDictionaryTextOverrides(c,t,n,null),c}static async createRenderExpressions(e,t){const i=[];for(const n of e){const e=n.valueExpressionInfo;if(!e||u._expressionToRenderExpression.has(e.expression))continue;const r=(0,o.Ad)(e.expression,t.spatialReference);i.push(r),r.then(t=>u._expressionToRenderExpression.set(e.expression,t))}i.length>0&&await Promise.all(i)}static evaluateOverrides(e,t,i,n,s,l){const o={$view:{scale:null===s||void 0===s?void 0:s.scale}};for(const a of e){a.value&&"object"==typeof a.value&&(0,r.IB)(a.value)&&("Color"===a.propertyName||"StrokeColor"===a.propertyName)&&(a.value=c(a.value));const e=a.valueExpressionInfo;if(!e)continue;const s=u._expressionToRenderExpression.get(e.expression);s&&(a.value=(0,h.default)(s,t,o,i,l,n))}}static applyDictionaryTextOverrides(e,t,i,n){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"Normal";if(null!==e&&void 0!==e&&e.type)switch(e.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":case"CIMTextSymbol":{const s=e.symbolLayers;if(!s)return;for(const l of s)l&&"CIMVectorMarker"===l.type&&u.applyDictionaryTextOverrides(l,t,i,n,"CIMTextSymbol"===e.type?e.textCase:r)}break;case"CIMVectorMarker":{const r=e.markerGraphics;if(!r)return;for(const e of r)e&&u.applyDictionaryTextOverrides(e,t,i,n)}break;case"CIMMarkerGraphic":{const s=e.textString;if(s&&s.includes("[")){const l=(0,a.gQ)(s,i);e.textString=(0,a.FM)(t,l,n,r)}}}}static applyOverrides(e,t,i,n){if(e.primitiveName)for(const r of t)if(r.primitiveName===e.primitiveName){const t=(0,a.YF)(r.propertyName);if(n&&n.push({cim:e,nocapPropertyName:t,value:e[t]}),i){let t=!1;for(const n of i)n.primitiveName===e.primitiveName&&(t=!0);t||i.push(r)}null!=r.value&&(e[t]=r.value)}switch(e.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":if(e.effects)for(const r of e.effects)u.applyOverrides(r,t,i,n);if(e.symbolLayers)for(const r of e.symbolLayers)u.applyOverrides(r,t,i,n);break;case"CIMTextSymbol":break;case"CIMSolidStroke":case"CIMSolidFill":case"CIMVectorMarker":if(e.effects)for(const r of e.effects)u.applyOverrides(r,t,i,n);if("CIMVectorMarker"===e.type&&e.markerGraphics)for(const r of e.markerGraphics)u.applyOverrides(r,t,i,n),u.applyOverrides(r.symbol,t,i,n)}}static restoreOverrides(e){for(const t of e)t.cim[t.nocapPropertyName]=t.value}static buildOverrideKey(e){let t="";for(const i of e)void 0!==i.value&&(t+="".concat(i.primitiveName).concat(i.propertyName).concat(JSON.stringify(i.value)));return t}static toValue(e,t){if("DashTemplate"===e)return t.split(" ").map(e=>Number(e));if("Color"===e){const e=new n.A(t).toRgba();return e[3]*=255,e}return t}}u._expressionToRenderExpression=new Map},52629:(e,t,i)=>{i.d(t,{default:()=>o});var n=i(37055),r=i(50076),s=i(76460),l=i(76279);function o(e,t,i,n,r,l){if(null==e)return null;const o=e.references("geometry")&&l?h(t,n,l):t,a=e.repurposeFeature(o,r);try{return e.evaluate(a,i)}catch(c){return s.A.getLogger("esri.views.2d.support.arcadeOnDemand").warn("Feature arcade evaluation failed:",c),null}}const a=new Map;function h(e,t,i){const{transform:o,hasZ:h,hasM:c}=i;a.has(t)||a.set(t,function(e){const t={};switch(e){case"esriGeometryPoint":return(e,i,n,r)=>(0,l.Tr)(i,t,e,n,r);case"esriGeometryPolygon":return(e,i,n,r)=>(0,l.$X)(i,t,e,n,r);case"esriGeometryPolyline":return(e,i,n,r)=>(0,l.P5)(i,t,e,n,r);case"esriGeometryMultipoint":return(e,i,n,r)=>(0,l.SW)(i,t,e,n,r);default:return s.A.getLogger("esri.views.2d.support.arcadeOnDemand").error(new r.A("mapview-arcade","Unable to handle geometryType: ".concat(e))),e=>e}}(t));const u=a.get(t)(e.geometry,o,h,c);return(0,n.A)((0,n.A)({},e),{},{geometry:u})}},76279:(e,t,i)=>{i.d(t,{$X:()=>R,B2:()=>l,Gy:()=>I,IE:()=>s,P5:()=>_,Q1:()=>r,QE:()=>S,SW:()=>O,Tr:()=>k,VV:()=>n,wp:()=>P});i(19902);function n(e){var t,i;return e?{originPosition:"upper-left"===e.originPosition?"upperLeft":"lower-left"===e.originPosition?"lowerLeft":e.originPosition,scale:e.tolerance?[e.tolerance,e.tolerance,1,1]:[1,1,1,1],translate:null!=e.extent?[e.extent.xmin,e.extent.ymax,null!==(t=e.extent.zmin)&&void 0!==t?t:0,null!==(i=e.extent.mmin)&&void 0!==i?i:0]:[0,0,0,0]}:null}function r(e){var t,i,n,r,s,l,o,a;if(function(e){return"lowerLeft"===e.originPosition&&4===e.scale.length&&4===e.translate.length}(e))return e;const{originPosition:h,scale:c,translate:u}=e,d=null!==(t=c[0])&&void 0!==t?t:1,f=null!==(i=c[1])&&void 0!==i?i:1;return{originPosition:"lowerLeft",scale:[d,"lowerLeft"===h?f:-f,null!==(n=c[2])&&void 0!==n?n:1,null!==(r=c[3])&&void 0!==r?r:1],translate:[null!==(s=u[0])&&void 0!==s?s:0,null!==(l=u[1])&&void 0!==l?l:0,null!==(o=u[2])&&void 0!==o?o:0,null!==(a=u[3])&&void 0!==a?a:0]}}function s(e,t){let{scale:i,translate:n}=e;return Math.round((t-n[0])/i[0])}function l(e,t){let{scale:i,translate:n}=e;return Math.round((t-n[1])/i[1])}function o(e,t){let{scale:i,translate:n}=e;return Math.round(((null!==t&&void 0!==t?t:0)-n[2])/i[2])}function a(e,t){let{scale:i,translate:n}=e;return t?Math.round((t-n[3])/i[3]):0}function h(e,t){return e&&t?f:e&&!t?u:!e&&t?d:c}const c=(e,t)=>{const i=[];if(!t.length)return null;const n=t[0];let r=s(e,n[0]),o=l(e,n[1]);i.push([r,o]);for(let a=1;a<t.length;a++){const[n,h]=t[a],c=s(e,n),u=l(e,h);c===r&&u===o||i.push([c-r,u-o]),r=c,o=u}return i},u=(e,t)=>{const i=[];if(!t.length)return null;const n=t[0];let r=s(e,n[0]),a=l(e,n[1]),h=o(e,n[2]);i.push([r,a,h]);for(let c=1;c<t.length;c++){const[n,u,d]=t[c],f=s(e,n),g=l(e,u),p=o(e,d);f===r&&g===a&&p===h||i.push([f-r,g-a,p]),r=f,a=g,h=p}return i},d=(e,t)=>{const i=[];if(!t.length)return null;const n=t[0];let r=s(e,n[0]),o=l(e,n[1]),h=a(e,n[2]);i.push([r,o,h]);for(let c=1;c<t.length;c++){const[n,u,d]=t[c],f=s(e,n),g=l(e,u),p=a(e,d);f===r&&g===o&&p===h||i.push([f-r,g-o,p]),r=f,o=g,h=p}return i},f=(e,t)=>{const i=[];if(!t.length)return null;const n=t[0];let r=s(e,n[0]),h=l(e,n[1]),c=o(e,n[2]),u=a(e,n[3]);i.push([r,h,c,u]);for(let d=1;d<t.length;d++){const[n,f,g,p]=t[d],m=s(e,n),y=l(e,f),v=o(e,g),w=a(e,p);m===r&&y===h&&v===c&&w===u||i.push([m-r,y-h,v,w]),r=m,h=y,c=v,u=w}return i};function g(e,t){let{scale:i,translate:n}=e;return t*i[0]+n[0]}function p(e,t){let{scale:i,translate:n}=e;return t*i[1]+n[1]}function m(e,t){let{scale:i,translate:n}=e;return(null!==t&&void 0!==t?t:0)*i[2]+n[2]}function y(e,t){let{scale:i,translate:n}=e;return t?t*i[3]+n[3]:0}function v(e,t){return e&&t?x:e&&!t?M:!e&&t?b:w}const w=(e,t)=>{const i=new Array(t.length);if(!t.length)return i;const n=t[0];let r=g(e,n[0]),s=p(e,n[1]);i[0]=[r,s];const{scale:l,originPosition:o}=e,a=l[0],h="lowerLeft"===o?l[1]:-l[1];for(let c=1;c<t.length;c++){const[e,n]=t[c];r+=a*e,s+=h*n,i[c]=[r,s]}return i},M=(e,t)=>{const i=new Array(t.length);if(!t.length)return i;const n=t[0];let r=g(e,n[0]),s=p(e,n[1]);i[0]=[r,s,m(e,n[2])];const{scale:l,originPosition:o}=e,a=l[0],h="lowerLeft"===o?l[1]:-l[1];for(let c=1;c<t.length;c++){const[n,l,o]=t[c];r+=a*n,s+=h*l,i[c]=[r,s,m(e,o)]}return i},b=(e,t)=>{const i=new Array(t.length);if(!t.length)return i;const n=t[0];let r=g(e,n[0]),s=p(e,n[1]);i[0]=[r,s,y(e,n[2])];const{scale:l,originPosition:o}=e,a=l[0],h="lowerLeft"===o?l[1]:-l[1];for(let c=1;c<t.length;c++){const[n,l,o]=t[c];r+=a*n,s+=h*l,i[c]=[r,s,y(e,o)]}return i},x=(e,t)=>{const i=new Array(t.length);if(!t.length)return i;const n=t[0];let r=g(e,n[0]),s=p(e,n[1]);i[0]=[r,s,m(e,n[2]),y(e,n[3])];const{scale:l,originPosition:o}=e,a=l[0],h="lowerLeft"===o?l[1]:-l[1];for(let c=1;c<t.length;c++){const[n,l,o,u]=t[c];r+=a*n,s+=h*l,i[c]=[r,s,m(e,o),y(e,u)]}return i};function C(e,t,i){const n=new Array(i.length);for(let r=0;r<i.length;r++)n[r]=t(e,i[r]);return n}function I(e,t,i){const n=r(e);return t.x=s(n,i.x),t.y=l(n,i.y),null!=i.z&&(t.z=o(n,i.z)),null!=i.m&&(t.m=a(n,i.m)),t}function P(e,t,i){var n,s;const l=function(e,t,i,n){const r=[],s=h(i,n);for(let l=0;l<t.length;l++){const i=s(e,t[l]);i&&i.length>=3&&r.push(i)}return r.length?r:null}(r(e),i.rings,i.hasZ,i.hasM);return l?(t.rings=l,t.hasZ=null!==(n=i.hasZ)&&void 0!==n&&n,t.hasM=null!==(s=i.hasM)&&void 0!==s&&s,t):null}function S(e,t,i){var n,s;const l=function(e,t,i,n){const r=[],s=h(i,n);for(let l=0;l<t.length;l++){const i=s(e,t[l]);i&&i.length>=2&&r.push(i)}return r.length?r:null}(r(e),i.paths,i.hasZ,i.hasM);return l?(t.paths=l,t.hasZ=null!==(n=i.hasZ)&&void 0!==n&&n,t.hasM=null!==(s=i.hasM)&&void 0!==s&&s,t):null}function O(e,t,i){var n,s;let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null!==(n=null===i||void 0===i?void 0:i.hasZ)&&void 0!==n&&n,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null!==(s=null===i||void 0===i?void 0:i.hasM)&&void 0!==s&&s;if(null!=i){const n=r(e);t.points=v(l,o)(n,i.points),t.hasZ=l,t.hasM=o}return t}function k(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null!=(null===i||void 0===i?void 0:i.z),s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null!=(null===i||void 0===i?void 0:i.m);if(null==i)return t;const l=r(e);return t.x=g(l,i.x),t.y=p(l,i.y),n&&(t.z=m(l,i.z)),s&&(t.m=y(l,i.m)),t}function R(e,t,i){var n,s;let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null!==(n=null===i||void 0===i?void 0:i.hasZ)&&void 0!==n&&n,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null!==(s=null===i||void 0===i?void 0:i.hasM)&&void 0!==s&&s;if(null!=i){const n=r(e);t.rings=C(n,v(l,o),i.rings),t.hasZ=l,t.hasM=o}return t}function _(e,t,i){var n,s;let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null!==(n=null===i||void 0===i?void 0:i.hasZ)&&void 0!==n&&n,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null!==(s=null===i||void 0===i?void 0:i.hasM)&&void 0!==s&&s;if(null!=i){const n=r(e);t.paths=C(n,v(l,o),i.paths),t.hasZ=l,t.hasM=o}return t}}}]);
//# sourceMappingURL=3620.e09b1334.chunk.js.map