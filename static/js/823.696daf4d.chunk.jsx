"use strict";(self.webpackChunkopendata_backend_prabulinggih=self.webpackChunkopendata_backend_prabulinggih||[]).push([[823,2633],{24921:(t,e,n)=>{n.d(e,{GP:()=>f,LI:()=>c,lc:()=>u,u5:()=>s});n(11265);var o=n(50265);const i=/^-?(\d+)(\.(\d+))?$/i;function r(t,e){return t-e}function l(t,e){let n,o;return n=Number(t.toFixed(e)),n<t?o=n+1/10**e:(o=n,n-=1/10**e),n=Number(n.toFixed(e)),o=Number(o.toFixed(e)),[n,o]}function a(t,e,n,o,i){const r=s(t,e,n,o),l=null==r.previous||r.previous<=i,a=null==r.next||r.next<=i;return l&&a||r.previous+r.next<=2*i}function u(t){const e=String(t),n=e.match(i);if(null!==n&&void 0!==n&&n[1])return{integer:n[1].split("").length,fractional:n[3]?n[3].split("").length:0};if(e.toLowerCase().includes("e")){const t=e.split("e"),n=t[0],o=t[1];if(n&&o){const t=Number(n);let e=Number(o);const i=e>0;i||(e=Math.abs(e));const r=u(t);return i?(r.integer+=e,e>r.fractional?r.fractional=0:r.fractional-=e):(r.fractional+=e,e>r.integer?r.integer=1:r.integer-=e),r}}return{integer:0,fractional:0}}function s(t,e,n,o){const i={previous:null,next:null};if(null!=n){const o=t-n,r=e-n-o;i.previous=Math.floor(Math.abs(100*r/o))}if(null!=o){const n=o-t,r=o-e-n;i.next=Math.floor(Math.abs(100*r/n))}return i}function c(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t.slice(),{tolerance:o=2,strictBounds:i=!1,indexes:s=n.map((t,e)=>e)}=e;s.sort(r);for(let r=0;r<s.length;r++){const t=s[r],e=n[t],c=0===t?null:n[t-1],d=t===n.length-1?null:n[t+1],f=u(e).fractional;if(f){let u,s=0,m=!1;for(;s<=f&&!m;){const t=l(e,s);u=i&&0===r?t[1]:t[0],m=a(e,u,c,d,o),s++}m&&(n[t]=u)}}return n}const d={maximumFractionDigits:20};function f(t){return(0,o.ZV)(t,d)}},42633:(t,e,n)=>{n.d(e,{EG:()=>p,Ll:()=>b,R3:()=>w,UH:()=>s,aM:()=>h,fs:()=>m,i0:()=>T});var o=n(37055),i=n(65256),r=n(53430),l=(n(86300),n(76386)),a=n(36693),u=n(67478);const s=",",c={years:365,months:30,days:1,hours:1/24,minutes:1/1440,seconds:1/86400,milliseconds:1/864e5},d=new Set(["integer","small-integer"]);let f=null;function m(t){return(0,r.vE)(t)||(0,r.zD)(t)||(0,r.Ah)(t)}async function p(t){const{field:e,field2:n,field3:o,normalizationField:i,valueExpression:r}=t;let a=[];if(r){if(!f){const{arcadeUtils:t}=await(0,l.l)();f=t}a=f.extractFieldNames(r)}return e&&a.push(e),n&&a.push(n),o&&a.push(o),i&&a.push(i),a}function v(t){return String(t).padStart(2,"0")}function g(t,e,n){let o;return"date"===e||"number"===e?("number"===e&&(t=new Date(t)),o="TIMESTAMP'".concat(n?t.getFullYear():t.getUTCFullYear(),"-").concat(v((n?t.getMonth():t.getUTCMonth())+1),"-").concat(v(n?t.getDate():t.getUTCDate())," ").concat(v(n?t.getHours():t.getUTCHours()),":").concat(v(n?t.getMinutes():t.getUTCMinutes()),":").concat(v(n?t.getSeconds():t.getUTCSeconds()),"'")):o=t,o}function h(t,e,n,o){const{hasQueryEngine:i}=t,r="(".concat(g(n,y(t,n),i)," - ").concat(g(e,y(t,e),i),")");let l=c[o],a="/";return l<1&&(l=1/l,a="*"),{sqlExpression:1===l?r:"(".concat(r," ").concat(a," ").concat(l,")"),sqlWhere:null}}function y(t,e){if(e instanceof Date)return"date";if("number"==typeof e)return"number";if("string"==typeof e){const n=t.getField(e);if("<now>"===e.toLowerCase())return;if((0,r.vE)(n))return"field"}}function w(t,e){const n=e&&t.getField(e);return!!n&&d.has(n.type)}function b(t){return"cast(".concat(t," as float)")}function T(t,e){const{format:n,timeZoneOptions:r,fieldType:l}=null!==e&&void 0!==e?e:{};let s,c;if(r&&({timeZone:s,timeZoneName:c}=(0,u.hv)(r.layerTimeZone,r.datesInUnknownTimezone,r.viewTimeZone,(0,i.J2)(n||"short-date-short-time"),l)),"string"==typeof t&&isNaN(Date.parse("time-only"===l?"1970-01-01T".concat(t,"Z"):t)))return t;switch(l){case"date-only":{const e=(0,i.J2)(n||"short-date");return"string"==typeof t?(0,i.iS)(t,(0,o.A)({},e)):(0,i.Yq)(t,(0,o.A)((0,o.A)({},e),{},{timeZone:a.n$}))}case"time-only":{const e=(0,i.J2)(n||"short-time");return"string"==typeof t?(0,i.F8)(t,e):(0,i.Yq)(t,(0,o.A)((0,o.A)({},e),{},{timeZone:a.n$}))}case"timestamp-offset":{if(!s&&"string"==typeof t&&new Date(t).toISOString()!==t)return t;const e=n||r?(0,i.J2)(n||"short-date-short-time"):void 0,l=e?(0,o.A)((0,o.A)({},e),{},{timeZone:s,timeZoneName:c}):void 0;return"string"==typeof t?(0,i.Ey)(t,l):(0,i.Yq)(t,l)}default:{const e=n||r?(0,i.J2)(n||"short-date-short-time"):void 0;return(0,i.Yq)("string"==typeof t?new Date(t):t,e?(0,o.A)((0,o.A)({},e),{},{timeZone:s,timeZoneName:c}):void 0)}}}},60823:(t,e,n)=>{n.d(e,{Dd:()=>c,Zo:()=>d,getDateFormatOptions:()=>f,iz:()=>m});var o=n(18288),i=n(53430),r=n(24921),l=n(42633),a=n(7246);const u="<",s=">";function c(t,e,n,o){let i="";return 0===e?i="".concat(u," "):e===n&&(i="".concat(s," ")),i+(o?(0,l.i0)(t,o):(0,r.GP)(t))}async function d(t,e){const o=t.trailCap,i=t.trailWidth||1,r=e||await async function(t){var e;if(!("visualVariables"in t)||!t.visualVariables)return null;const o=t.visualVariables.find(t=>"color"===t.type);if(!o)return null;let i=null,r=null;if(o.stops){if(1===o.stops.length)return o.stops[0].color;i=o.stops[0].value,r=o.stops[o.stops.length-1].value}const l=null!=i&&null!=r?i+(r-i)/2:0,{getColor:a}=await Promise.resolve().then(n.bind(n,15492));return null!==(e=a(o,l))&&void 0!==e?e:null}(t)||t.color;return new a.A({cap:o,color:r,width:i})}function f(t,e,n){const r=function(t,e){var n,o;if(!e.field)return null;if("featureReduction"in t)switch(null===(n=t.featureReduction)||void 0===n?void 0:n.type){case"cluster":case"binning":{const n=t.featureReduction.fields.find(t=>{let{name:n}=t;return n.toLowerCase()===e.field.toLowerCase()});return n&&"getField"in t?t.getField(n.onStatisticField):null}}return"getField"in t?null===(o=t.getField)||void 0===o?void 0:o.call(t,e.field):null}(t,e);if(!r||!(0,l.fs)(r)&&!(0,i.OH)(r))return null;let a=function(t,e){var n,o;const i="popupTemplate"in t?null===(n=t.popupTemplate)||void 0===n?void 0:n.fieldInfos:null;if(null!==i&&void 0!==i&&i.length&&e)return null===(o=i.find(t=>{var n;return(null===(n=t.fieldName)||void 0===n?void 0:n.toLowerCase())===e.toLowerCase()}))||void 0===o||null===(o=o.format)||void 0===o?void 0:o.dateFormat}(t,r.name);if(!a&&"date"===r.type){var u,s,c,d,f,m;let t=0,n=0;e.stops?(t=null!==(u=null===(s=e.stops)||void 0===s||null===(s=s.at(0))||void 0===s?void 0:s.value)&&void 0!==u?u:t,n=null!==(c=null===(d=e.stops)||void 0===d||null===(d=d.at(-1))||void 0===d?void 0:d.value)&&void 0!==c?c:n):"minDataValue"in e&&"maxDataValue"in e&&(t=null!==(f=e.minDataValue)&&void 0!==f?f:t,n=null!==(m=e.maxDataValue)&&void 0!==m?m:n),a=n-t>2*o.vf.days?"short-date":"short-date-short-time"}return{fieldType:r.type,format:a,timeZoneOptions:{layerTimeZone:"preferredTimeZone"in t?t.preferredTimeZone:null,viewTimeZone:n,datesInUnknownTimezone:"datesInUnknownTimezone"in t&&t.datesInUnknownTimezone}}}function m(t,e){var n;if("authoringInfo"in t)return null===(n=t.authoringInfo)||void 0===n||null===(n=n.visualVariables)||void 0===n?void 0:n.find(t=>{let{theme:n}=t;return n===e})}}}]);
//# sourceMappingURL=823.696daf4d.chunk.js.map