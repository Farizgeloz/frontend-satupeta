"use strict";(self.webpackChunkopendata_backend_prabulinggih=self.webpackChunkopendata_backend_prabulinggih||[]).push([[6799],{10907:(e,n,t)=>{t.d(n,{BM:()=>I,bd:()=>j,sO:()=>F,xD:()=>c});var o=t(51344),i=t(50076),r=t(80963),s=t(20176),l=t(1484),a=t(53430);const u={LineString:"esriGeometryPolyline",MultiLineString:"esriGeometryPolyline",MultiPoint:"esriGeometryMultipoint",Point:"esriGeometryPoint",Polygon:"esriGeometryPolygon",MultiPolygon:"esriGeometryPolygon"};function c(e){return u[e]}function*d(e){switch(e.type){case"Feature":yield e;break;case"FeatureCollection":for(const n of e.features)n&&(yield n)}}function*f(e){if(e)switch(e.type){case"Point":yield e.coordinates;break;case"LineString":case"MultiPoint":yield*e.coordinates;break;case"MultiLineString":case"Polygon":for(const n of e.coordinates)yield*n;break;case"MultiPolygon":for(const n of e.coordinates)for(const e of n)yield*e}}function g(e){for(const n of e)if(n.length>2)return!0;return!1}function p(e){let n=0;for(let t=0;t<e.length;t++){const o=e[t],i=e[(t+1)%e.length];n+=o[0]*i[1]-i[0]*o[1]}return n<=0}function m(e){const n=e[0],t=e[e.length-1];return n[0]===t[0]&&n[1]===t[1]&&n[2]===t[2]||e.push(n),e}function y(e,n,t){switch(n.type){case"LineString":case"MultiPoint":return function(e,n,t){return b(e,n.coordinates,t),e}(e,n,t);case"MultiLineString":return function(e,n,t){for(const o of n.coordinates)b(e,o,t);return e}(e,n,t);case"MultiPolygon":return function(e,n,t){for(const o of n.coordinates){h(e,o[0],t);for(let n=1;n<o.length;n++)w(e,o[n],t)}return e}(e,n,t);case"Point":return function(e,n,t){return A(e,n.coordinates,t),e}(e,n,t);case"Polygon":return function(e,n,t){const o=n.coordinates;h(e,o[0],t);for(let i=1;i<o.length;i++)w(e,o[i],t);return e}(e,n,t)}}function h(e,n,t){const o=m(n);!function(e){return!p(e)}(o)?b(e,o,t):v(e,o,t)}function w(e,n,t){const o=m(n);!function(e){return p(e)}(o)?b(e,o,t):v(e,o,t)}function b(e,n,t){for(const o of n)A(e,o,t);e.lengths.push(n.length)}function v(e,n,t){for(let o=n.length-1;o>=0;o--)A(e,n[o],t);e.lengths.push(n.length)}function A(e,n,t){const[o,i,r]=n;e.coords.push(o,i),t.hasZ&&e.coords.push(r||0)}function T(e){switch(typeof e){case"string":return(0,o.Br)(e)?"esriFieldTypeDate":"esriFieldTypeString";case"number":return"esriFieldTypeDouble";default:return"unknown"}}function F(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4326;if(!e)throw new i.A("geojson-layer:empty","GeoJSON data is empty");if("Feature"!==e.type&&"FeatureCollection"!==e.type)throw new i.A("geojson-layer:unsupported-geojson-object","missing or not supported GeoJSON object type",{data:e});const{crs:t}=e;if(!t)return;const o="string"==typeof t?t:"name"===t.type?t.properties.name:"EPSG"===t.type?t.properties.code:null,s=(0,r.oT)({wkid:n})?new RegExp(".*(CRS84H?|4326)$","i"):new RegExp(".*(".concat(n,")$"),"i");if(!o||!s.test(o))throw new i.A("geojson:unsupported-crs","unsupported GeoJSON 'crs' member",{crs:t})}function I(e){var n,t;let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=[],r=new Set,s=new Set;let l,u=!1,p=null,m=!1,{geometryType:y=null}=o;for(const w of d(e)){const{geometry:e,properties:n,id:t}=w;if((!e||(y||(y=c(e.type)),c(e.type)===y))&&(u||(u=g(f(e))),m||(m=null!=t,m&&(l=typeof t,n&&(p=Object.keys(n).filter(e=>n[e]===t)))),n&&p&&m&&null!=t&&(p.length>1?p=p.filter(e=>n[e]===t):1===p.length&&(p=n[p[0]]===t?p:[])),n))for(const o in n){if(r.has(o))continue;const e=T(n[o]);if("unknown"===e){s.add(o);continue}s.delete(o),r.add(o);const t=(0,a.rS)(o);t&&i.push({name:t,alias:o,type:e})}}const h=null!==(n=(0,a.rS)(1===(null===(t=p)||void 0===t?void 0:t.length)&&p[0]||null))&&void 0!==n?n:void 0;if(h)for(const c of i)if(c.name===h&&(0,a.WA)(c)){c.type="esriFieldTypeOID";break}return{fields:i,geometryType:y,hasZ:u,objectIdFieldName:h,objectIdFieldType:l,unknownFields:Array.from(s)}}function j(e,n){return Array.from(function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){const{geometryType:t,objectIdField:o}=n;for(const i of e){const{geometry:e,properties:r,id:a}=i;if(e&&c(e.type)!==t)continue;const u=r||{};let d;o&&(d=u[o],null==a||d||(u[o]=d=a));const f=new s.Om(e?y(new l.A,e,n):null,u,null,d);yield f}}()}(d(e),n))}},26799:(e,n,t)=>{t.d(n,{GA:()=>C,GL:()=>k,I:()=>O,J0:()=>M,Ki:()=>x,Px:()=>N,QE:()=>I,bV:()=>P,bW:()=>G,vJ:()=>F});var o=t(86535),i=t(37055),r=t(3825),s=t(50076),l=t(76460),a=t(90534),u=t(13312),c=t(80963),d=t(45417),f=t(98618),g=t(75146),p=t(10907),m=t(40296),y=t(40098),h=t(1900),w=t(6127),b=t(36693);const v=()=>l.A.getLogger("esri.layers.ogc.ogcFeatureUtils"),A="startindex",T=new Set([A,"offset"]),F="http://www.opengis.net/def/crs/",I="".concat(F,"OGC/1.3/CRS84");var j,S;async function k(e,n){var t;let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5;const{links:u}=e,c=L(u,"items",j.geojson)||L(u,"http://www.opengis.net/def/rel/ogc/1.0/items",j.geojson);if(null==c)throw new s.A("ogc-feature-layer:missing-items-page","Missing items url");const{apiKey:d,customParameters:f,signal:g}=o,y=(0,a.s2)(c.href,e.landingPage.url),T=(0,i.A)((0,i.A)({limit:l},f),{},{token:d}),F=(0,a.a6)(y,T),I={accept:j.geojson},{data:S}=await(0,r.A)(F,{signal:g,headers:I}),k=null!==(t=W(F,l,S.links))&&void 0!==t?t:A;(0,p.sO)(S);const P=(0,p.BM)(S,{geometryType:n.geometryType}),N=n.fields||P.fields||[],x=null!=n.hasZ?n.hasZ:P.hasZ,C=P.geometryType,M=n.objectIdField||P.objectIdFieldName||"OBJECTID";let G=n.timeInfo;const O=N.find(e=>{let{name:n}=e;return n===M});if(O)O.editable=!1,O.nullable=!1;else{if(!P.objectIdFieldType)throw new s.A("ogc-feature-layer:missing-feature-id","Collection geojson require a feature id as a unique identifier");N.unshift({name:M,alias:M,type:"number"===P.objectIdFieldType?"esriFieldTypeOID":"esriFieldTypeString",editable:!1,nullable:!1})}if(M!==P.objectIdFieldName){const e=N.find(e=>{let{name:n}=e;return n===P.objectIdFieldName});e&&(e.type="esriFieldTypeInteger")}N===P.fields&&P.unknownFields.length>0&&v().warn({name:"ogc-feature-layer:unknown-field-types",message:"Some fields types couldn't be inferred from the features and were dropped",details:{unknownFields:P.unknownFields}});for(const i of N){if(null==i.name&&(i.name=i.alias),null==i.alias&&(i.alias=i.name),"esriFieldTypeOID"!==i.type&&"esriFieldTypeGlobalID"!==i.type&&(i.editable=null==i.editable||!!i.editable,i.nullable=null==i.nullable||!!i.nullable),!i.name)throw new s.A("ogc-feature-layer:invalid-field-name","field name is missing",{field:i});if(!w.m.jsonValues.includes(i.type))throw new s.A("ogc-feature-layer:invalid-field-type",'invalid type for field "'.concat(i.name,'"'),{field:i})}if(G){var D;const e=new h.A(N);if(G.startTimeField){const n=e.get(G.startTimeField);n?(G.startTimeField=n.name,n.type="esriFieldTypeDate"):G.startTimeField=null}if(G.endTimeField){const n=e.get(G.endTimeField);n?(G.endTimeField=n.name,n.type="esriFieldTypeDate"):G.endTimeField=null}if(G.trackIdField){const n=e.get(G.trackIdField);n?G.trackIdField=n.name:(G.trackIdField=null,v().warn({name:"ogc-feature-layer:invalid-timeInfo-trackIdField",message:"trackIdField is missing",details:{timeInfo:G}}))}(D=G).timeReference||(D.timeReference={timeZoneIANA:b.n$}),G.startTimeField||G.endTimeField||(v().warn({name:"ogc-feature-layer:invalid-timeInfo",message:"startTimeField and endTimeField are missing",details:{timeInfo:G}}),G=void 0)}return{drawingInfo:C?(0,m.F0)(C):null,extent:E(e),geometryType:C,fields:N,hasZ:!!x,objectIdField:M,paginationParameter:k,timeInfo:G}}async function P(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{links:t,url:o}=e,l=L(t,"data",j.json)||L(t,"http://www.opengis.net/def/rel/ogc/1.0/data",j.json);if(null==l)throw new s.A("ogc-feature-layer:missing-collections-page","Missing collections url");const{apiKey:u,customParameters:c,signal:d}=n,f=(0,a.s2)(l.href,o),{data:g}=await(0,r.A)(f,{signal:d,headers:{accept:j.json},query:(0,i.A)((0,i.A)({},c),{},{token:u})});for(const i of g.collections)i.landingPage=e;return g}async function N(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{links:t,url:o}=e,l=L(t,"conformance",j.json)||L(t,"http://www.opengis.net/def/rel/ogc/1.0/conformance",j.json);if(null==l)throw new s.A("ogc-feature-layer:missing-conformance-page","Missing conformance url");const{apiKey:u,customParameters:c,signal:d}=n,f=(0,a.s2)(l.href,o),{data:g}=await(0,r.A)(f,{signal:d,headers:{accept:j.json},query:(0,i.A)((0,i.A)({},c),{},{token:u})});return g}async function x(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{apiKey:t,customParameters:o,signal:s}=n,{data:l}=await(0,r.A)(e,{signal:s,headers:{accept:j.json},query:(0,i.A)((0,i.A)({},o),{},{token:t})});return l.url=e,l}async function C(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{links:t,url:o}=e,s=L(t,"service-desc",j.openapi);if(null==s)return v().warn("ogc-feature-layer:missing-openapi-page","The OGC API-Features server does not have an OpenAPI page."),null;const{apiKey:l,customParameters:u,signal:c}=n,d=(0,a.s2)(s.href,o),{data:f}=await(0,r.A)(d,{signal:c,headers:{accept:j.openapi},query:(0,i.A)((0,i.A)({},u),{},{token:l})});return f}function M(e){const n=(0,o.A)(/^http:\/\/www\.opengis.net\/def\/crs\/(.*)\/(.*)\/(.*)$/i,{authority:1,version:2,code:3}).exec(e),t=null===n||void 0===n?void 0:n.groups;if(!t)return null;const{authority:i,code:r}=t;switch(i.toLowerCase()){case"ogc":switch(r.toLowerCase()){case"crs27":return u.A.GCS_NAD_1927.wkid;case"crs83":return 4269;case"crs84":case"crs84h":return u.A.WGS84.wkid;default:return null}case"esri":case"epsg":{const e=Number.parseInt(r,10);return Number.isNaN(e)?null:e}default:return null}}async function G(e,n,t){const o=await O(e,n,t);return(0,f.ZF)(o)}async function O(e,n,t){var o,l;const{collection:{links:m,landingPage:{url:w}},layerDefinition:b,maxRecordCount:v,queryParameters:{apiKey:A,customParameters:T},spatialReference:F,supportedCrs:I}=e,S=L(m,"items",j.geojson)||L(m,"http://www.opengis.net/def/rel/ogc/1.0/items",j.geojson);if(null==S)throw new s.A("ogc-feature-layer:missing-items-page","Missing items url");const{geometry:k,num:P,start:N,timeExtent:x,where:C}=n;if(n.objectIds)throw new s.A("ogc-feature-layer:query-by-objectids-not-supported","Queries with object ids are not supported");const M=u.A.fromJSON(F),G=null!==(o=n.outSpatialReference)&&void 0!==o?o:M,O=G.isWGS84?null:D(G,I),q=R(k,I),E=function(e){if(null==e)return null;const{start:n,end:t}=e;return"".concat(null!=n?n.toISOString():"..","/").concat(null!=t?t.toISOString():"..")}(x),W=null!=(Y=C)&&Y&&"1=1"!==Y?Y:null,B=null!==P&&void 0!==P?P:null==N?v:10,Z=0===N?void 0:N,{fields:J,geometryType:U,hasZ:_,objectIdField:K,paginationParameter:$}=b,z=(0,a.s2)(S.href,w),{data:V}=await(0,r.A)(z,(0,i.A)((0,i.A)({},t),{},{query:(0,i.A)((0,i.A)((0,i.A)({},T),q),{},{crs:O,datetime:E,query:W,limit:B,[$]:Z,token:A}),headers:{accept:j.geojson}})),H=(0,p.bd)(V,{geometryType:U,hasZ:_,objectIdField:K}),Q=H.length===B&&!!L(null!==(l=V.links)&&void 0!==l?l:[],"next",j.geojson),X=new h.A(J);var Y;for(const i of H){const e={};(0,y.MB)(X,e,i.attributes,!0);for(const n of X.fields)n.nullable&&!(n.name in e)&&(e[n.name]=null);e[K]=i.attributes[K],i.attributes=e}if(!O&&G.isWebMercator)for(const i of H)if(null!=i.geometry&&null!=U){const e=(0,f.zv)(i.geometry,U,_,!1);e.spatialReference=u.A.WGS84,i.geometry=(0,f.Ux)((0,d.Cv)(e,G))}for(const i of H)i.objectId=i.attributes[K];const ee=O||!O&&G.isWebMercator?G.toJSON():c.KK,ne=new g.A;return ne.exceededTransferLimit=Q,ne.features=H,ne.fields=J,ne.geometryType=U,ne.hasZ=_,ne.spatialReference=ee,ne}function D(e,n){var t,o,i;const{isWebMercator:r,wkid:s}=e;if(!s)return null;const l=r?null!==(t=null!==(o=null!==(i=n[3857])&&void 0!==i?i:n[102100])&&void 0!==o?o:n[102113])&&void 0!==t?t:n[900913]:n[e.wkid];return l?"".concat(F).concat(l):null}function q(e){if(null==e)return"";const{xmin:n,ymin:t,xmax:o,ymax:i}=e;return"".concat(n,",").concat(t,",").concat(o,",").concat(i)}function R(e,n){if(!function(e){return null!=e&&"extent"===e.type}(e))return null;const{spatialReference:t}=e;if(!t||t.isWGS84)return{bbox:q(e)};const o=D(t,n);return null!=o?{bbox:q(e),"bbox-crs":o}:t.isWebMercator?{bbox:q((0,d.Cv)(e,u.A.WGS84))}:null}function E(e){var n;const t=null===(n=e.extent)||void 0===n?void 0:n.spatial;if(!t)return null;const o=t.bbox[0],i=4===o.length,[r,s]=o,l=i?void 0:o[2];return{xmin:r,ymin:s,xmax:i?o[2]:o[3],ymax:i?o[3]:o[4],zmin:l,zmax:i?void 0:o[5],spatialReference:u.A.WGS84.toJSON()}}function L(e,n,t){var o;return null!==(o=e.find(e=>{let{rel:o,type:i}=e;return o===n&&i===t}))&&void 0!==o?o:e.find(e=>{let{rel:t,type:o}=e;return t===n&&!o})}function W(e,n,t){var o;if(!t)return;const i=L(t,"next",j.geojson),r=null===(o=(0,a.An)(null===i||void 0===i?void 0:i.href))||void 0===o?void 0:o.query;if(!r)return;const s=(0,a.An)(e).query,l=Object.keys(null!==s&&void 0!==s?s:{}),u=Object.entries(r).filter(e=>{let[n]=e;return!l.includes(n)}).find(e=>{let[t,o]=e;return T.has(t.toLowerCase())&&Number.parseInt(o,10)===n});return null===u||void 0===u?void 0:u[0]}(S=j||(j={})).json="application/json",S.geojson="application/geo+json",S.openapi="application/vnd.oai.openapi+json;version=3.0"},40098:(e,n,t)=>{t.d(n,{$1:()=>y,CR:()=>m,MB:()=>f,PC:()=>h,Yx:()=>a,bP:()=>c});var o=t(51344),i=t(80963),r=t(53430);class s{constructor(e){this.description=e,this.code=null}}class l{constructor(e){this.globalId=null,this.objectId=null,this.success=!1,this.uniqueId=null,this.error=new s(e)}}function a(e){return new l(e)}class u{constructor(e){this.globalId=null,this.success=!0,this.objectId=this.uniqueId=e}}function c(e){return new u(e)}const d=new Set;function f(e,n,t){let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];d.clear();for(const s in t){const i=e.get(s);if(!i)continue;const l=g(i,t[s]);if(d.add(i.name),i&&(o||i.editable)){const e=(0,r.CJ)(i,l);if(e)return a((0,r.uo)(e,i,l));n[i.name]=l}}for(const r of null!==(i=e.requiredFields)&&void 0!==i?i:[]){var i;if(!d.has(r.name))return a('missing required field "'.concat(r.name,'"'))}return null}function g(e,n){let t=n;return(0,r.WA)(e)&&"string"==typeof n?t=parseFloat(n):(0,r.yM)(e)&&null!=n&&"string"!=typeof n?t=String(n):(0,r.vE)(e)&&"string"==typeof n&&(t=(0,o._U)(n)),(0,r.WX)(t)}let p;function m(e,n){if(!e||!(0,i.fn)(n))return e;if("rings"in e||"paths"in e){if(null==p)throw new TypeError("geometry engine not loaded");return p.simplify(n,e)}return e}async function y(e,n){!(0,i.fn)(e)||"esriGeometryPolygon"!==n&&"esriGeometryPolyline"!==n||await async function(){return null==p&&(p=await t.e(1669).then(t.bind(t,1669))),p}()}const h={supportsAutoIntervalBin:!0,supportsFixedIntervalBin:!0,supportsFixedBoundariesBin:!0,supportsDateBin:!0,supportsStackBy:!0,supportsSplitBy:!0,supportsNormalization:!0,supportedStatisticTypes:["COUNT","SUM","AVG","VAR","STDDEV","MIN","MAX","PERCENTILE_CONT","PERCENTILE_DISC","CentroidAggregate","EnvelopeAggregate","ConvexHullAggregate"],supportedNormalizationTypes:["field","log","naturalLog","percentOfTotal","squareRoot"]}},51344:(e,n,t)=>{function o(e){return null!=l(e)||null!=s(e)}function i(e){return a.test(e)}function r(e){var n;return null!==(n=l(e))&&void 0!==n?n:s(e)}function s(e){const n=new Date(e);return function(e,n){if(Number.isNaN(e.getTime()))return!1;let t=!0;if(c&&/\d+\W*$/.test(n)){const e=n.match(/[a-zA-Z]{2,}/);if(e){let n=!1,o=0;for(;!n&&o<=e.length;)n=!u.test(e[o]),o++;t=!n}}return t}(n,e)?Number.isNaN(n.getTime())?null:n.getTime()-6e4*n.getTimezoneOffset():null}function l(e){var n,t,o,i;const r=a.exec(e);if(null===r||void 0===r||!r.groups)return null;const s=r.groups,l=+s.year,u=+s.month-1,c=+s.day,d=+(null!==(n=s.hours)&&void 0!==n?n:"0"),f=+(null!==(t=s.minutes)&&void 0!==t?t:"0"),g=+(null!==(o=s.seconds)&&void 0!==o?o:"0");if(d>23)return null;if(f>59)return null;if(g>59)return null;const p=null!==(i=s.ms)&&void 0!==i?i:"0",m=p?+p.padEnd(3,"0").slice(0,3):0;let y;if(s.isUTC||!s.offsetSign)y=Date.UTC(l,u,c,d,f,g,m);else{const e=+s.offsetHours,n=+s.offsetMinutes;y=6e4*("+"===s.offsetSign?-1:1)*(60*e+n)+Date.UTC(l,u,c,d,f,g,m)}return Number.isNaN(y)?null:y}t.d(n,{Br:()=>i,Cq:()=>o,_U:()=>r});const a=(0,t(86535).A)(/^(?:(-?\d{4,})-(\d{2})-(\d{2}))(?:T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?)?(?:(Z)|(?:(\+|-)(\d{2}):(\d{2})))?$/,{year:1,month:2,day:3,hours:4,minutes:5,seconds:6,ms:7,isUTC:8,offsetSign:9,offsetHours:10,offsetMinutes:11});const u=/^((jan(uary)?)|(feb(ruary)?)|(mar(ch)?)|(apr(il)?)|(may)|(jun(e)?)|(jul(y)?)|(aug(ust)?)|(sep(tember)?)|(oct(ober)?)|(nov(ember)?)|(dec(ember)?)|(am)|(pm)|(gmt)|(utc))$/i,c=!Number.isNaN(new Date("technology 10").getTime())}}]);
//# sourceMappingURL=6799.5f01fdeb.chunk.js.map