{"version":3,"file":"static/js/4610.b76dcbab.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/versionManagement/support/versionManagementUtils.js","../node_modules/@arcgis/core/layers/graphics/editingSupport.js","../node_modules/@arcgis/core/layers/mixins/EditBusLayer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import{generateLowercaseBracedUUID as r}from\"../../core/uuid.js\";const t=r(),n=new Map,s=new Map,a=new Map;async function o(r,t,s){if(!r||!s)return!1;if(!t)return!0;const a=new URL(r).host;let o=n.get(a);if(!o){const t=r.replace(/\\/FeatureServer/i,\"/VersionManagementServer\").replace(/\\/\\d*$/,\"\");o=(await e(t,{responseType:\"json\",query:{f:\"json\"}})).data.defaultVersionName}return o===t}async function i(e,r,n=!1){if(!e||!r)return!0;const a=e.replace(/\\/FeatureServer/i,\"/VersionManagementServer\").replace(/\\/\\d*$/,\"\"),o=s.get(a)?.entries();if(o)for(const[s,i]of o)if(i.name===r){const e=!i.stack?.hasForwardEdits();if(!e&&n){const[{deleteForwardEdits:e},{default:r}]=await Promise.all([import(\"../../rest/versionManagement/gdbVersion/deleteForwardEdits.js\"),import(\"../../rest/versionManagement/gdbVersion/support/DeleteForwardEditsParameters.js\")]),n=await e(a,s,new r({sessionId:t,moment:i.moment}));return n.success&&i.stack?.clearForwardEdits(),n.success}return e}return!0}function c(e,r){if(!e)return!1;const t=e.replace(/\\/FeatureServer/i,\"/VersionManagementServer\").replace(/\\/\\d*$/,\"\"),n=s.get(t)?.entries();if(n)for(const[s,a]of n)if(a.name===r){return\"edit\"===a.lockType}return!1}export{t as currentSessionId,n as defaultVersionNameLookup,o as isHistoricVersion,i as isSafeToEditVersion,c as isVersionInEditSession,s as versionCollection,a as versionCollectionCount};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport e from\"../../Graphic.js\";import t from\"../../core/Collection.js\";import a from\"../../core/Error.js\";import{clone as r}from\"../../core/lang.js\";import s from\"../../core/Logger.js\";import{createResolver as i}from\"../../core/promiseUtils.js\";import{dataComponents as n}from\"../../core/urlUtils.js\";import{generateBracedUUID as o}from\"../../core/uuid.js\";import{normalizeCentralMeridian as l}from\"../../geometry/support/normalizeUtils.js\";import{isGeographic as d,equals as u,isWGS84 as p,isWebMercator as c}from\"../../geometry/support/spatialReferenceUtils.js\";import{isEditBusLayer as h,emitApplyEditsEvent as m}from\"../mixins/EditBusLayer.js\";import{isValidFieldValue as f}from\"../support/fieldUtils.js\";import{isGlbSupportedEditFormat as y}from\"../support/infoFor3D.js\";import{getEffectiveEditingEnabled as g,getEffectiveLayerCapabilities as b}from\"../support/layerUtils.js\";function w(e){return null!=e?.applyEdits}function F(e){return\"object\"==typeof e&&null!=e&&\"objectId\"in e&&!!e.objectId}function A(e){return e.every(F)}function v(e){return\"object\"==typeof e&&null!=e&&\"globalId\"in e&&!!e.globalId}function I(e){return e.every(v)}async function $(e,t,a,s={}){let n;const o=\"gdbVersion\"in e?e.gdbVersion:null,l=s.gdbVersion??o;if(h(e)&&e.url)n=m(e.url,e.layerId,l,\"original-and-current-features\"===s.returnServiceEditsOption);else{n=i(),n.promise.then((t=>{(t.addedFeatures.length||t.updatedFeatures.length||t.deletedFeatures.length||t.addedAttachments.length||t.updatedAttachments.length||t.deletedAttachments.length)&&e.emit(\"edits\",t)}));const t={result:n.promise};e.emit(\"apply-edits\",t)}try{const{results:i,edits:o}=await E(e,t,a,s),l=e=>e.filter((e=>!e.error)).map(r),d={edits:o,addedFeatures:l(i.addFeatureResults),updatedFeatures:l(i.updateFeatureResults),deletedFeatures:l(i.deleteFeatureResults),addedAttachments:l(i.addAttachmentResults),updatedAttachments:l(i.updateAttachmentResults),deletedAttachments:l(i.deleteAttachmentResults),exceededTransferLimit:!1,historicMoment:i.editMoment?new Date(i.editMoment):null,globalIdToObjectId:s.globalIdToObjectId};return i.editedFeatureResults?.length&&(d.editedFeatures=i.editedFeatureResults),n.resolve(d),i}catch(d){throw n.reject(d),d}}async function E(e,t,r,s){if(await e.load(),!w(t))throw new a(`${e.type}-layer:no-editing-support`,\"Layer source does not support applyEdits capability\",{layer:e});if(!g(e))throw new a(`${e.type}-layer:editing-disabled`,\"Editing is disabled for layer\",{layer:e});const{edits:i,options:n}=await S(e,r,s);return i.addFeatures?.length||i.updateFeatures?.length||i.deleteFeatures?.length||i.addAttachments?.length||i.updateAttachments?.length||i.deleteAttachments?.length?{edits:i,results:await t.applyEdits(i,n)}:{edits:i,results:{addFeatureResults:[],updateFeatureResults:[],deleteFeatureResults:[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}}async function S(e,t,r){const i=b(e),n=t&&(t.addFeatures||t.updateFeatures||t.deleteFeatures),o=t&&(t.addAttachments||t.updateAttachments||t.deleteAttachments),l=null!=e.infoFor3D;if(V(t,i,r,!!n,!!o,`${e.type}-layer`),!i.data.isVersioned&&r?.gdbVersion)throw new a(`${e.type}-layer:invalid-parameter`,\"'gdbVersion' is applicable only if the layer supports versioned data. See: 'capabilities.data.isVersioned'\");if(!i.editing.supportsRollbackOnFailure&&r?.rollbackOnFailureEnabled)throw new a(`${e.type}-layer:invalid-parameter`,\"This layer does not support 'rollbackOnFailureEnabled' parameter. See: 'capabilities.editing.supportsRollbackOnFailure'\");const d={...r};if(null!=d.rollbackOnFailureEnabled||i.editing.supportsRollbackOnFailure||(d.rollbackOnFailureEnabled=!0),d.rollbackOnFailureEnabled||\"original-and-current-features\"!==d.returnServiceEditsOption||(!1===d.rollbackOnFailureEnabled&&s.getLogger(\"esri.layers.graphics.editingSupport\").warn(`${e.type}-layer:invalid-parameter`,\"'original-and-current-features' is valid for 'returnServiceEditsOption' only when 'rollBackOnFailure' is true, but 'rollBackOnFailure' was set to false. 'rollBackOnFailure' has been overwritten and set to true.\"),d.rollbackOnFailureEnabled=!0),!i.editing.supportsReturnServiceEditsInSourceSpatialReference&&d.returnServiceEditsInSourceSR)throw new a(`${e.type}-layer:invalid-parameter`,\"This layer does not support 'returnServiceEditsInSourceSR' parameter. See: 'capabilities.editing.supportsReturnServiceEditsInSourceSpatialReference'\");if(d.returnServiceEditsInSourceSR&&\"original-and-current-features\"!==d.returnServiceEditsOption)throw new a(`${e.type}-layer:invalid-parameter`,\"'returnServiceEditsInSourceSR' is valid only when 'returnServiceEditsOption' is set to 'original-and-current-features'\");const u=G(t,i,`${e.type}-layer`),p=r?.globalIdUsed||l,c=e.fields.filter((e=>\"big-integer\"===e.type||\"oid\"===e.type&&(e.length||0)>=8));if(p){const{globalIdField:t}=e;if(null==t)throw new a(`${e.type}-layer:invalid-parameter`,\"Layer does not specify a global id field.\");u.addFeatures.forEach((e=>T(e,t)))}u.addFeatures.forEach((t=>O(t,e,p,c))),u.updateFeatures.forEach((t=>k(t,e,p,c))),u.deleteFeatures.forEach((t=>U(t,e,p,c))),u.addAttachments.forEach((t=>L(t,e))),u.updateAttachments.forEach((t=>L(t,e))),l&&await x(u,e);return{edits:await B(u),options:d}}function R(e,t,r,s){if(r){if(\"attributes\"in e&&!e.attributes[t.globalIdField])throw new a(`${t.type}-layer:invalid-parameter`,`Feature should have '${t.globalIdField}' when 'globalIdUsed' is true`);if(!(\"attributes\"in e)&&!e.globalId)throw new a(`${t.type}-layer:invalid-parameter`,\"`'globalId' of the feature should be passed when 'globalIdUsed' is true\")}if(s.length&&\"attributes\"in e)for(const i of s){const r=e.attributes[i.name];if(void 0!==r&&!f(i,r))throw new a(`${t.type}-layer:invalid-parameter`,`Big-integer field '${i.name}' of the feature must be less than ${Number.MAX_SAFE_INTEGER}`,{feature:e})}if(\"geometry\"in e&&null!=e.geometry){if(e.geometry.hasZ&&!1===t.capabilities?.data.supportsZ)throw new a(`${t.type}-layer:z-unsupported`,\"Layer does not support z values while feature has z values.\");if(e.geometry.hasM&&!1===t.capabilities?.data.supportsM)throw new a(`${t.type}-layer:m-unsupported`,\"Layer does not support m values while feature has m values.\")}}function j(e,t){if(\"geometry\"in e&&\"mesh\"===e.geometry?.type&&null!=t.infoFor3D&&null!=t.spatialReference){const{geometry:r}=e,{spatialReference:s,vertexSpace:i}=r,n=t.spatialReference,o=\"local\"===i.type,l=d(n),h=u(n,s),m=h||p(n)&&(p(s)||c(s));if(!(o&&l&&m||!o&&!l&&h))throw new a(`${t.type}-layer:mesh-unsupported`,`Uploading a mesh with a ${i.type} vertex space and a spatial reference wkid:${s.wkid} to a layer with a spatial reference wkid:${n.wkid} is not supported.`)}}function O(e,t,a,r){R(e,t,a,r),j(e,t)}function U(e,t,a,r){R(e,t,a,r)}function k(e,t,r,s){R(e,t,r,s),j(e,t);const i=b(t);if(\"geometry\"in e&&null!=e.geometry&&!i?.editing.supportsGeometryUpdate)throw new a(`${t.type}-layer:unsupported-operation`,\"Layer does not support geometry updates.\")}function L(e,t){const{feature:r,attachment:s}=e;if(!r||\"attributes\"in r&&!r.attributes[t.globalIdField])throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have reference to a feature with 'globalId'\");if(!(\"attributes\"in r)&&!r.globalId)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have reference to 'globalId' of the parent feature\");if(!s.globalId)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have 'globalId'\");if(!s.data&&!s.uploadId)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have 'data' or 'uploadId'\");if(!(s.data instanceof File&&!!s.data.name)&&!s.name)throw new a(`${t.type}-layer:invalid-parameter`,\"'name' is required when attachment is specified as Base64 encoded string using 'data'\");if(!t.capabilities?.editing.supportsUploadWithItemId&&s.uploadId)throw new a(`${t.type}-layer:invalid-parameter`,\"This layer does not support 'uploadId' parameter. See: 'capabilities.editing.supportsUploadWithItemId'\");if(\"string\"==typeof s.data){const e=n(s.data);if(e&&!e.isBase64)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment 'data' should be a Blob, File or Base64 encoded string\")}}function T(e,t){const{attributes:a}=e;null==a[t]&&(a[t]=o())}async function B(e){const t=e.addFeatures??[],a=e.updateFeatures??[],r=t.concat(a).map((e=>e.geometry)),s=await l(r),i=t.length,n=a.length;return s.slice(0,i).forEach(((e,a)=>t[a].geometry=e)),s.slice(i,i+n).forEach(((e,t)=>a[t].geometry=e)),e}function D(e){return{addFeatures:Array.from(e?.addFeatures??[]),updateFeatures:Array.from(e?.updateFeatures??[]),deleteFeatures:e&&t.isCollection(e.deleteFeatures)?e.deleteFeatures.toArray():e.deleteFeatures||[],addAttachments:e.addAttachments||[],updateAttachments:e.updateAttachments||[],deleteAttachments:e.deleteAttachments||[]}}function G(e,t,r){const s=D(e);if(s.addFeatures?.length&&!t.operations.supportsAdd)throw new a(`${r}:unsupported-operation`,\"Layer does not support adding features.\");if(s.updateFeatures?.length&&!t.operations.supportsUpdate)throw new a(`${r}:unsupported-operation`,\"Layer does not support updating features.\");if(s.deleteFeatures?.length&&!t.operations.supportsDelete)throw new a(`${r}:unsupported-operation`,\"Layer does not support deleting features.\");return s.addFeatures=s.addFeatures.map(M),s.updateFeatures=s.updateFeatures.map(M),s.addAssetFeatures=[],s}function V(e,t,r,s,i,n){if(!(e&&(s||i)||r?.usingTelecomOperations))throw new a(`${n}:missing-parameters`,\"'addFeatures', 'updateFeatures', 'deleteFeatures', 'addAttachments', 'updateAttachments' or 'deleteAttachments' parameter is required\");if(!t.editing.supportsGlobalId&&r?.globalIdUsed&&!r.usingFeatureServiceEndpoint)throw new a(`${n}:invalid-parameter`,\"This layer does not support 'globalIdUsed' parameter. See: 'capabilities.editing.supportsGlobalId'\");if(!t.editing.supportsGlobalId&&i)throw new a(`${n}:invalid-parameter`,\"'addAttachments', 'updateAttachments' and 'deleteAttachments' are applicable only if the layer supports global ids. See: 'capabilities.editing.supportsGlobalId'\");if(!r?.globalIdUsed&&i)throw new a(`${n}:invalid-parameter`,\"When 'addAttachments', 'updateAttachments' or 'deleteAttachments' is specified, globalIdUsed should be set to true\")}function M(t){const a=new e;return t.attributes||(t.attributes={}),a.geometry=t.geometry,a.attributes=t.attributes,a}async function x(e,t){const{infoFor3D:r}=t;if(null==r)return;if(!y(r))throw new a(`${t.type}-layer:binary-gltf-asset-not-supported`,\"3DObjectFeatureLayer requires binary glTF (.glb) support for updating mesh geometry.\");e.addAssetFeatures??=[];const{addAssetFeatures:s}=e;for(const a of e.addFeatures??[])z(a)&&s.push(a);for(const a of e.updateFeatures??[])z(a)&&s.push(a)}function z(e){return\"mesh\"===e?.geometry?.type}function q(e,t,r,s){if(!w(t))throw new a(`${e.type}-layer:no-editing-support`,\"Layer source does not support applyEdits capability\",{layer:e});if(!t.uploadAssets)throw new a(`${e.type}-layer:no-asset-upload-support`,\"Layer source does not support uploadAssets capability\",{layer:e});return t.uploadAssets(r,s)}export{$ as applyEdits,V as checkEditingCapabilities,I as isFeatureIdentifierArrayWithGlobalId,A as isFeatureIdentifierArrayWithObjectId,v as isFeatureIdentifierWithGlobalId,F as isFeatureIdentifierWithObjectId,D as normalizeCollections,G as normalizeEdits,B as normalizeGeometries,M as shallowCloneFeature,q as uploadAssets};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Evented.js\";import{clone as i}from\"../../core/lang.js\";import{createResolver as s}from\"../../core/promiseUtils.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import{subclass as d}from\"../../core/accessorSupport/decorators/subclass.js\";import{isVersionInEditSession as o,defaultVersionNameLookup as n}from\"../../versionManagement/support/versionManagementUtils.js\";const a=new e.EventEmitter;function l(t){return a.on(\"apply-edits\",new WeakRef(t))}function h(t){return a.on(\"update-moment\",new WeakRef(t))}function c(t,e,i=null,r=!1){const d=s();return r=null==e||r,a.emit(\"apply-edits\",{serviceUrl:t,layerId:e,gdbVersion:i,mayReceiveServiceEdits:r,result:d.promise}),d}function u(t,e,i=null,s){a.emit(\"update-moment\",{serviceUrl:t,layerId:e,gdbVersion:i,moment:s})}const m=Symbol();function p(t){return null!=t&&\"object\"==typeof t&&m in t}function b(t){return null!=t&&\"object\"==typeof t&&\"gdbVersion\"in t}function g(t,e,i){const s=new URL(t).host,r=n.get(s),d=t=>!t||t===r;return d(e)&&d(i)||e===i}const F=e=>{var s;let n=class extends e{static{s=m}constructor(...t){super(...t),this[s]=!0,this._applyEditsHandler=t=>{const{serviceUrl:e,layerId:s,gdbVersion:r,mayReceiveServiceEdits:d,result:o}=t,n=e===this.url,a=null!=s&&null!=this.layerId&&s===this.layerId,l=b(this),h=b(this)&&g(e,r,this.gdbVersion);if(!n||l&&!h||!a&&!d)return;const c=o.then((t=>{if(this.lastEditsEventDate=new Date,a&&(t.addedFeatures.length||t.updatedFeatures.length||t.deletedFeatures.length||t.addedAttachments.length||t.updatedAttachments.length||t.deletedAttachments.length))return this.emit(\"edits\",i(t)),t;const s=t.editedFeatures?.find((({layerId:t})=>t===this.layerId));if(s){const{adds:e,updates:r,deletes:d}=s.editedFeatures,o={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:e?e.map((({attributes:t})=>({objectId:this.objectIdField&&t[this.objectIdField],globalId:this.globalIdField&&t[this.globalIdField]}))):[],deletedFeatures:d?d.map((({attributes:t})=>({objectId:this.objectIdField&&t[this.objectIdField],globalId:this.globalIdField&&t[this.globalIdField]}))):[],updatedFeatures:r?r.map((({current:{attributes:t}})=>({objectId:this.objectIdField&&t[this.objectIdField],globalId:this.globalIdField&&t[this.globalIdField]}))):[],editedFeatures:i(t.editedFeatures),exceededTransferLimit:!1,historicMoment:i(t.historicMoment)};return this.emit(\"edits\",o),o}const d={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:[],deletedFeatures:[],updatedFeatures:[],editedFeatures:i(t.editedFeatures),exceededTransferLimit:!1,historicMoment:i(t.historicMoment)};return\"historicMoment\"in this&&this._shouldUpdateHistoricMoment(e,r,d.historicMoment)&&this.emit(\"edits\",d),d})).then((t=>(\"historicMoment\"in this&&this._shouldUpdateHistoricMoment(e,r,t.historicMoment)&&(this.historicMoment=t.historicMoment),t)));this.emit(\"apply-edits\",{result:c})},this._updateMomentHandler=t=>{const{serviceUrl:e,gdbVersion:i,moment:s}=t,r=e===this.url,d=b(this),o=b(this)&&g(e,i,this.gdbVersion),n=b(this)&&!g(e,this.gdbVersion,null);r&&d&&o&&n&&\"historicMoment\"in this&&this.historicMoment!==s&&(this.historicMoment=s)},this.when().then((()=>{this.addHandles(l(this._applyEditsHandler)),\"historicMoment\"in this&&this.addHandles(h(this._updateMomentHandler))}),(()=>{}))}_shouldUpdateHistoricMoment(t,e,i){return\"historicMoment\"in this&&this.historicMoment!==i&&o(t,e)}};return t([r()],n.prototype,\"lastEditsEventDate\",void 0),n=t([d(\"esri.layers.mixins.EditBusLayer\")],n),n};export{F as EditBusLayer,c as emitApplyEditsEvent,u as emitUpdateMomentEvent,p as isEditBusLayer,b as isLayerWithGDBVersion,l as onApplyEditsEvent,h as onUpdateMomentEvent,g as versionMatches};\n"],"names":["t","r","n","Map","s","async","o","a","URL","host","get","replace","e","responseType","query","f","data","defaultVersionName","i","_s$get","arguments","length","undefined","entries","name","_i$stack","stack","hasForwardEdits","_i$stack2","deleteForwardEdits","default","Promise","all","sessionId","moment","success","clearForwardEdits","c","_s$get2","lockType","w","applyEdits","F","objectId","A","every","v","globalId","I","$","_s$gdbVersion","gdbVersion","l","h","url","m","layerId","returnServiceEditsOption","promise","then","addedFeatures","updatedFeatures","deletedFeatures","addedAttachments","updatedAttachments","deletedAttachments","emit","result","_i$editedFeatureResul","results","edits","_i$addFeatures","_i$updateFeatures","_i$deleteFeatures","_i$addAttachments","_i$updateAttachments","_i$deleteAttachments","load","concat","type","layer","g","options","b","addFeatures","updateFeatures","deleteFeatures","addAttachments","updateAttachments","deleteAttachments","infoFor3D","usingTelecomOperations","editing","supportsGlobalId","globalIdUsed","usingFeatureServiceEndpoint","V","isVersioned","supportsRollbackOnFailure","rollbackOnFailureEnabled","d","_objectSpread","getLogger","warn","supportsReturnServiceEditsInSourceSpatialReference","returnServiceEditsInSourceSR","u","_s$addFeatures","_s$updateFeatures","_s$deleteFeatures","_e$addFeatures2","_e$updateFeatures2","Array","from","isCollection","toArray","D","operations","supportsAdd","supportsUpdate","supportsDelete","map","M","addAssetFeatures","G","p","fields","filter","globalIdField","forEach","attributes","T","R","j","O","geometry","supportsGeometryUpdate","k","U","L","_e$addAssetFeatures","y","_e$addFeatures3","z","push","_e$updateFeatures3","x","B","S","addFeatureResults","updateFeatureResults","deleteFeatureResults","addAttachmentResults","updateAttachmentResults","deleteAttachmentResults","E","error","exceededTransferLimit","historicMoment","editMoment","Date","globalIdToObjectId","editedFeatureResults","editedFeatures","resolve","reject","Number","MAX_SAFE_INTEGER","feature","_t$capabilities","_t$capabilities2","hasZ","capabilities","supportsZ","hasM","supportsM","_e$geometry","spatialReference","vertexSpace","wkid","_t$capabilities3","attachment","uploadId","File","supportsUploadWithItemId","isBase64","_e$addFeatures","_e$updateFeatures","slice","_e$geometry2","q","uploadAssets","EventEmitter","serviceUrl","mayReceiveServiceEdits","Symbol","constructor","super","this","_applyEditsHandler","_t$editedFeatures","lastEditsEventDate","find","_ref","adds","updates","deletes","_ref2","objectIdField","_ref3","_ref4","current","_shouldUpdateHistoricMoment","_updateMomentHandler","when","addHandles","on","WeakRef","prototype"],"sourceRoot":""}